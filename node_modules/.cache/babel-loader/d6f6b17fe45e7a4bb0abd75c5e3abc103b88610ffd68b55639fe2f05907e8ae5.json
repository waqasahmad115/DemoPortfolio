{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events');\nconst shared = require('../shared');\nconst mimeTypes = require('../mime-funcs/mime-types');\nconst MailComposer = require('../mail-composer');\nconst DKIM = require('../dkim');\nconst httpProxyClient = require('../smtp-connection/http-proxy-client');\nconst util = require('util');\nconst urllib = require('url');\nconst packageData = require('../../package.json');\nconst MailMessage = require('./mail-message');\nconst net = require('net');\nconst dns = require('dns');\nconst crypto = require('crypto');\n\n/**\n * Creates an object for exposing the Mail API\n *\n * @constructor\n * @param {Object} transporter Transport object instance to pass the mails to\n */\nclass Mail extends EventEmitter {\n  constructor(transporter, options, defaults) {\n    var _this;\n    super();\n    _this = this;\n    this.options = options || {};\n    this._defaults = defaults || {};\n    this._defaultPlugins = {\n      compile: [function () {\n        return _this._convertDataImages(...arguments);\n      }],\n      stream: []\n    };\n    this._userPlugins = {\n      compile: [],\n      stream: []\n    };\n    this.meta = new Map();\n    this.dkim = this.options.dkim ? new DKIM(this.options.dkim) : false;\n    this.transporter = transporter;\n    this.transporter.mailer = this;\n    this.logger = shared.getLogger(this.options, {\n      component: this.options.component || 'mail'\n    });\n    this.logger.debug({\n      tnx: 'create'\n    }, 'Creating transport: %s', this.getVersionString());\n\n    // setup emit handlers for the transporter\n    if (typeof this.transporter.on === 'function') {\n      // deprecated log interface\n      this.transporter.on('log', log => {\n        this.logger.debug({\n          tnx: 'transport'\n        }, '%s: %s', log.type, log.message);\n      });\n\n      // transporter errors\n      this.transporter.on('error', err => {\n        this.logger.error({\n          err,\n          tnx: 'transport'\n        }, 'Transport Error: %s', err.message);\n        this.emit('error', err);\n      });\n\n      // indicates if the sender has became idle\n      this.transporter.on('idle', function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        _this.emit('idle', ...args);\n      });\n    }\n\n    /**\n     * Optional methods passed to the underlying transport object\n     */\n    ['close', 'isIdle', 'verify'].forEach(method => {\n      this[method] = function () {\n        if (typeof _this.transporter[method] === 'function') {\n          if (method === 'verify' && typeof _this.getSocket === 'function') {\n            _this.transporter.getSocket = _this.getSocket;\n            _this.getSocket = false;\n          }\n          return _this.transporter[method](...arguments);\n        } else {\n          _this.logger.warn({\n            tnx: 'transport',\n            methodName: method\n          }, 'Non existing method %s called for transport', method);\n          return false;\n        }\n      };\n    });\n\n    // setup proxy handling\n    if (this.options.proxy && typeof this.options.proxy === 'string') {\n      this.setupProxy(this.options.proxy);\n    }\n  }\n  use(step, plugin) {\n    step = (step || '').toString();\n    if (!this._userPlugins.hasOwnProperty(step)) {\n      this._userPlugins[step] = [plugin];\n    } else {\n      this._userPlugins[step].push(plugin);\n    }\n    return this;\n  }\n\n  /**\n   * Sends an email using the preselected transport object\n   *\n   * @param {Object} data E-data description\n   * @param {Function?} callback Callback to run once the sending succeeded or failed\n   */\n  sendMail(data) {\n    var _this2 = this;\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let promise;\n    if (!callback) {\n      promise = new Promise((resolve, reject) => {\n        callback = shared.callbackPromise(resolve, reject);\n      });\n    }\n    if (typeof this.getSocket === 'function') {\n      this.transporter.getSocket = this.getSocket;\n      this.getSocket = false;\n    }\n    let mail = new MailMessage(this, data);\n    this.logger.debug({\n      tnx: 'transport',\n      name: this.transporter.name,\n      version: this.transporter.version,\n      action: 'send'\n    }, 'Sending mail using %s/%s', this.transporter.name, this.transporter.version);\n    this._processPlugins('compile', mail, err => {\n      if (err) {\n        this.logger.error({\n          err,\n          tnx: 'plugin',\n          action: 'compile'\n        }, 'PluginCompile Error: %s', err.message);\n        return callback(err);\n      }\n      mail.message = new MailComposer(mail.data).compile();\n      mail.setMailerHeader();\n      mail.setPriorityHeaders();\n      mail.setListHeaders();\n      this._processPlugins('stream', mail, err => {\n        if (err) {\n          this.logger.error({\n            err,\n            tnx: 'plugin',\n            action: 'stream'\n          }, 'PluginStream Error: %s', err.message);\n          return callback(err);\n        }\n        if (mail.data.dkim || this.dkim) {\n          mail.message.processFunc(input => {\n            let dkim = mail.data.dkim ? new DKIM(mail.data.dkim) : this.dkim;\n            this.logger.debug({\n              tnx: 'DKIM',\n              messageId: mail.message.messageId(),\n              dkimDomains: dkim.keys.map(key => key.keySelector + '.' + key.domainName).join(', ')\n            }, 'Signing outgoing message with %s keys', dkim.keys.length);\n            return dkim.sign(input, mail.data._dkim);\n          });\n        }\n        this.transporter.send(mail, function () {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          if (args[0]) {\n            _this2.logger.error({\n              err: args[0],\n              tnx: 'transport',\n              action: 'send'\n            }, 'Send Error: %s', args[0].message);\n          }\n          callback(...args);\n        });\n      });\n    });\n    return promise;\n  }\n  getVersionString() {\n    return util.format('%s (%s; +%s; %s/%s)', packageData.name, packageData.version, packageData.homepage, this.transporter.name, this.transporter.version);\n  }\n  _processPlugins(step, mail, callback) {\n    step = (step || '').toString();\n    if (!this._userPlugins.hasOwnProperty(step)) {\n      return callback();\n    }\n    let userPlugins = this._userPlugins[step] || [];\n    let defaultPlugins = this._defaultPlugins[step] || [];\n    if (userPlugins.length) {\n      this.logger.debug({\n        tnx: 'transaction',\n        pluginCount: userPlugins.length,\n        step\n      }, 'Using %s plugins for %s', userPlugins.length, step);\n    }\n    if (userPlugins.length + defaultPlugins.length === 0) {\n      return callback();\n    }\n    let pos = 0;\n    let block = 'default';\n    let processPlugins = () => {\n      let curplugins = block === 'default' ? defaultPlugins : userPlugins;\n      if (pos >= curplugins.length) {\n        if (block === 'default' && userPlugins.length) {\n          block = 'user';\n          pos = 0;\n          curplugins = userPlugins;\n        } else {\n          return callback();\n        }\n      }\n      let plugin = curplugins[pos++];\n      plugin(mail, err => {\n        if (err) {\n          return callback(err);\n        }\n        processPlugins();\n      });\n    };\n    processPlugins();\n  }\n\n  /**\n   * Sets up proxy handler for a Nodemailer object\n   *\n   * @param {String} proxyUrl Proxy configuration url\n   */\n  setupProxy(proxyUrl) {\n    let proxy = urllib.parse(proxyUrl);\n\n    // setup socket handler for the mailer object\n    this.getSocket = (options, callback) => {\n      let protocol = proxy.protocol.replace(/:$/, '').toLowerCase();\n      if (this.meta.has('proxy_handler_' + protocol)) {\n        return this.meta.get('proxy_handler_' + protocol)(proxy, options, callback);\n      }\n      switch (protocol) {\n        // Connect using a HTTP CONNECT method\n        case 'http':\n        case 'https':\n          httpProxyClient(proxy.href, options.port, options.host, (err, socket) => {\n            if (err) {\n              return callback(err);\n            }\n            return callback(null, {\n              connection: socket\n            });\n          });\n          return;\n        case 'socks':\n        case 'socks5':\n        case 'socks4':\n        case 'socks4a':\n          {\n            if (!this.meta.has('proxy_socks_module')) {\n              return callback(new Error('Socks module not loaded'));\n            }\n            let connect = ipaddress => {\n              let proxyV2 = !!this.meta.get('proxy_socks_module').SocksClient;\n              let socksClient = proxyV2 ? this.meta.get('proxy_socks_module').SocksClient : this.meta.get('proxy_socks_module');\n              let proxyType = Number(proxy.protocol.replace(/\\D/g, '')) || 5;\n              let connectionOpts = {\n                proxy: {\n                  ipaddress,\n                  port: Number(proxy.port),\n                  type: proxyType\n                },\n                [proxyV2 ? 'destination' : 'target']: {\n                  host: options.host,\n                  port: options.port\n                },\n                command: 'connect'\n              };\n              if (proxy.auth) {\n                let username = decodeURIComponent(proxy.auth.split(':').shift());\n                let password = decodeURIComponent(proxy.auth.split(':').pop());\n                if (proxyV2) {\n                  connectionOpts.proxy.userId = username;\n                  connectionOpts.proxy.password = password;\n                } else if (proxyType === 4) {\n                  connectionOpts.userid = username;\n                } else {\n                  connectionOpts.authentication = {\n                    username,\n                    password\n                  };\n                }\n              }\n              socksClient.createConnection(connectionOpts, (err, info) => {\n                if (err) {\n                  return callback(err);\n                }\n                return callback(null, {\n                  connection: info.socket || info\n                });\n              });\n            };\n            if (net.isIP(proxy.hostname)) {\n              return connect(proxy.hostname);\n            }\n            return dns.resolve(proxy.hostname, (err, address) => {\n              if (err) {\n                return callback(err);\n              }\n              connect(Array.isArray(address) ? address[0] : address);\n            });\n          }\n      }\n      callback(new Error('Unknown proxy configuration'));\n    };\n  }\n  _convertDataImages(mail, callback) {\n    if (!this.options.attachDataUrls && !mail.data.attachDataUrls || !mail.data.html) {\n      return callback();\n    }\n    mail.resolveContent(mail.data, 'html', (err, html) => {\n      if (err) {\n        return callback(err);\n      }\n      let cidCounter = 0;\n      html = (html || '').toString().replace(/(<img\\b[^>]* src\\s*=[\\s\"']*)(data:([^;]+);[^\"'>\\s]+)/gi, (match, prefix, dataUri, mimeType) => {\n        let cid = crypto.randomBytes(10).toString('hex') + '@localhost';\n        if (!mail.data.attachments) {\n          mail.data.attachments = [];\n        }\n        if (!Array.isArray(mail.data.attachments)) {\n          mail.data.attachments = [].concat(mail.data.attachments || []);\n        }\n        mail.data.attachments.push({\n          path: dataUri,\n          cid,\n          filename: 'image-' + ++cidCounter + '.' + mimeTypes.detectExtension(mimeType)\n        });\n        return prefix + 'cid:' + cid;\n      });\n      mail.data.html = html;\n      callback();\n    });\n  }\n  set(key, value) {\n    return this.meta.set(key, value);\n  }\n  get(key) {\n    return this.meta.get(key);\n  }\n}\nmodule.exports = Mail;","map":{"version":3,"names":["EventEmitter","require","shared","mimeTypes","MailComposer","DKIM","httpProxyClient","util","urllib","packageData","MailMessage","net","dns","crypto","Mail","constructor","transporter","options","defaults","_this","this","_defaults","_defaultPlugins","compile","_convertDataImages","arguments","stream","_userPlugins","meta","Map","dkim","mailer","logger","getLogger","component","debug","tnx","getVersionString","on","log","type","message","err","error","emit","_len","length","args","Array","_key","forEach","method","getSocket","warn","methodName","proxy","setupProxy","use","step","plugin","toString","hasOwnProperty","push","sendMail","data","_this2","callback","undefined","promise","Promise","resolve","reject","callbackPromise","mail","name","version","action","_processPlugins","setMailerHeader","setPriorityHeaders","setListHeaders","processFunc","input","messageId","dkimDomains","keys","map","key","keySelector","domainName","join","sign","_dkim","send","_len2","_key2","format","homepage","userPlugins","defaultPlugins","pluginCount","pos","block","processPlugins","curplugins","proxyUrl","parse","protocol","replace","toLowerCase","has","get","href","port","host","socket","connection","Error","connect","ipaddress","proxyV2","SocksClient","socksClient","proxyType","Number","connectionOpts","command","auth","username","decodeURIComponent","split","shift","password","pop","userId","userid","authentication","createConnection","info","isIP","hostname","address","isArray","attachDataUrls","html","resolveContent","cidCounter","match","prefix","dataUri","mimeType","cid","randomBytes","attachments","concat","path","filename","detectExtension","set","value","module","exports"],"sources":["/Users/waqasahmad/Desktop/CSS/Fiverr/updated-code/node_modules/nodemailer/lib/mailer/index.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\nconst shared = require('../shared');\nconst mimeTypes = require('../mime-funcs/mime-types');\nconst MailComposer = require('../mail-composer');\nconst DKIM = require('../dkim');\nconst httpProxyClient = require('../smtp-connection/http-proxy-client');\nconst util = require('util');\nconst urllib = require('url');\nconst packageData = require('../../package.json');\nconst MailMessage = require('./mail-message');\nconst net = require('net');\nconst dns = require('dns');\nconst crypto = require('crypto');\n\n/**\n * Creates an object for exposing the Mail API\n *\n * @constructor\n * @param {Object} transporter Transport object instance to pass the mails to\n */\nclass Mail extends EventEmitter {\n    constructor(transporter, options, defaults) {\n        super();\n\n        this.options = options || {};\n        this._defaults = defaults || {};\n\n        this._defaultPlugins = {\n            compile: [(...args) => this._convertDataImages(...args)],\n            stream: []\n        };\n\n        this._userPlugins = {\n            compile: [],\n            stream: []\n        };\n\n        this.meta = new Map();\n\n        this.dkim = this.options.dkim ? new DKIM(this.options.dkim) : false;\n\n        this.transporter = transporter;\n        this.transporter.mailer = this;\n\n        this.logger = shared.getLogger(this.options, {\n            component: this.options.component || 'mail'\n        });\n\n        this.logger.debug(\n            {\n                tnx: 'create'\n            },\n            'Creating transport: %s',\n            this.getVersionString()\n        );\n\n        // setup emit handlers for the transporter\n        if (typeof this.transporter.on === 'function') {\n            // deprecated log interface\n            this.transporter.on('log', log => {\n                this.logger.debug(\n                    {\n                        tnx: 'transport'\n                    },\n                    '%s: %s',\n                    log.type,\n                    log.message\n                );\n            });\n\n            // transporter errors\n            this.transporter.on('error', err => {\n                this.logger.error(\n                    {\n                        err,\n                        tnx: 'transport'\n                    },\n                    'Transport Error: %s',\n                    err.message\n                );\n                this.emit('error', err);\n            });\n\n            // indicates if the sender has became idle\n            this.transporter.on('idle', (...args) => {\n                this.emit('idle', ...args);\n            });\n        }\n\n        /**\n         * Optional methods passed to the underlying transport object\n         */\n        ['close', 'isIdle', 'verify'].forEach(method => {\n            this[method] = (...args) => {\n                if (typeof this.transporter[method] === 'function') {\n                    if (method === 'verify' && typeof this.getSocket === 'function') {\n                        this.transporter.getSocket = this.getSocket;\n                        this.getSocket = false;\n                    }\n                    return this.transporter[method](...args);\n                } else {\n                    this.logger.warn(\n                        {\n                            tnx: 'transport',\n                            methodName: method\n                        },\n                        'Non existing method %s called for transport',\n                        method\n                    );\n                    return false;\n                }\n            };\n        });\n\n        // setup proxy handling\n        if (this.options.proxy && typeof this.options.proxy === 'string') {\n            this.setupProxy(this.options.proxy);\n        }\n    }\n\n    use(step, plugin) {\n        step = (step || '').toString();\n        if (!this._userPlugins.hasOwnProperty(step)) {\n            this._userPlugins[step] = [plugin];\n        } else {\n            this._userPlugins[step].push(plugin);\n        }\n\n        return this;\n    }\n\n    /**\n     * Sends an email using the preselected transport object\n     *\n     * @param {Object} data E-data description\n     * @param {Function?} callback Callback to run once the sending succeeded or failed\n     */\n    sendMail(data, callback = null) {\n        let promise;\n\n        if (!callback) {\n            promise = new Promise((resolve, reject) => {\n                callback = shared.callbackPromise(resolve, reject);\n            });\n        }\n\n        if (typeof this.getSocket === 'function') {\n            this.transporter.getSocket = this.getSocket;\n            this.getSocket = false;\n        }\n\n        let mail = new MailMessage(this, data);\n\n        this.logger.debug(\n            {\n                tnx: 'transport',\n                name: this.transporter.name,\n                version: this.transporter.version,\n                action: 'send'\n            },\n            'Sending mail using %s/%s',\n            this.transporter.name,\n            this.transporter.version\n        );\n\n        this._processPlugins('compile', mail, err => {\n            if (err) {\n                this.logger.error(\n                    {\n                        err,\n                        tnx: 'plugin',\n                        action: 'compile'\n                    },\n                    'PluginCompile Error: %s',\n                    err.message\n                );\n                return callback(err);\n            }\n\n            mail.message = new MailComposer(mail.data).compile();\n\n            mail.setMailerHeader();\n            mail.setPriorityHeaders();\n            mail.setListHeaders();\n\n            this._processPlugins('stream', mail, err => {\n                if (err) {\n                    this.logger.error(\n                        {\n                            err,\n                            tnx: 'plugin',\n                            action: 'stream'\n                        },\n                        'PluginStream Error: %s',\n                        err.message\n                    );\n                    return callback(err);\n                }\n\n                if (mail.data.dkim || this.dkim) {\n                    mail.message.processFunc(input => {\n                        let dkim = mail.data.dkim ? new DKIM(mail.data.dkim) : this.dkim;\n                        this.logger.debug(\n                            {\n                                tnx: 'DKIM',\n                                messageId: mail.message.messageId(),\n                                dkimDomains: dkim.keys.map(key => key.keySelector + '.' + key.domainName).join(', ')\n                            },\n                            'Signing outgoing message with %s keys',\n                            dkim.keys.length\n                        );\n                        return dkim.sign(input, mail.data._dkim);\n                    });\n                }\n\n                this.transporter.send(mail, (...args) => {\n                    if (args[0]) {\n                        this.logger.error(\n                            {\n                                err: args[0],\n                                tnx: 'transport',\n                                action: 'send'\n                            },\n                            'Send Error: %s',\n                            args[0].message\n                        );\n                    }\n                    callback(...args);\n                });\n            });\n        });\n\n        return promise;\n    }\n\n    getVersionString() {\n        return util.format('%s (%s; +%s; %s/%s)', packageData.name, packageData.version, packageData.homepage, this.transporter.name, this.transporter.version);\n    }\n\n    _processPlugins(step, mail, callback) {\n        step = (step || '').toString();\n\n        if (!this._userPlugins.hasOwnProperty(step)) {\n            return callback();\n        }\n\n        let userPlugins = this._userPlugins[step] || [];\n        let defaultPlugins = this._defaultPlugins[step] || [];\n\n        if (userPlugins.length) {\n            this.logger.debug(\n                {\n                    tnx: 'transaction',\n                    pluginCount: userPlugins.length,\n                    step\n                },\n                'Using %s plugins for %s',\n                userPlugins.length,\n                step\n            );\n        }\n\n        if (userPlugins.length + defaultPlugins.length === 0) {\n            return callback();\n        }\n\n        let pos = 0;\n        let block = 'default';\n        let processPlugins = () => {\n            let curplugins = block === 'default' ? defaultPlugins : userPlugins;\n            if (pos >= curplugins.length) {\n                if (block === 'default' && userPlugins.length) {\n                    block = 'user';\n                    pos = 0;\n                    curplugins = userPlugins;\n                } else {\n                    return callback();\n                }\n            }\n            let plugin = curplugins[pos++];\n            plugin(mail, err => {\n                if (err) {\n                    return callback(err);\n                }\n                processPlugins();\n            });\n        };\n\n        processPlugins();\n    }\n\n    /**\n     * Sets up proxy handler for a Nodemailer object\n     *\n     * @param {String} proxyUrl Proxy configuration url\n     */\n    setupProxy(proxyUrl) {\n        let proxy = urllib.parse(proxyUrl);\n\n        // setup socket handler for the mailer object\n        this.getSocket = (options, callback) => {\n            let protocol = proxy.protocol.replace(/:$/, '').toLowerCase();\n\n            if (this.meta.has('proxy_handler_' + protocol)) {\n                return this.meta.get('proxy_handler_' + protocol)(proxy, options, callback);\n            }\n\n            switch (protocol) {\n                // Connect using a HTTP CONNECT method\n                case 'http':\n                case 'https':\n                    httpProxyClient(proxy.href, options.port, options.host, (err, socket) => {\n                        if (err) {\n                            return callback(err);\n                        }\n                        return callback(null, {\n                            connection: socket\n                        });\n                    });\n                    return;\n                case 'socks':\n                case 'socks5':\n                case 'socks4':\n                case 'socks4a': {\n                    if (!this.meta.has('proxy_socks_module')) {\n                        return callback(new Error('Socks module not loaded'));\n                    }\n                    let connect = ipaddress => {\n                        let proxyV2 = !!this.meta.get('proxy_socks_module').SocksClient;\n                        let socksClient = proxyV2 ? this.meta.get('proxy_socks_module').SocksClient : this.meta.get('proxy_socks_module');\n                        let proxyType = Number(proxy.protocol.replace(/\\D/g, '')) || 5;\n                        let connectionOpts = {\n                            proxy: {\n                                ipaddress,\n                                port: Number(proxy.port),\n                                type: proxyType\n                            },\n                            [proxyV2 ? 'destination' : 'target']: {\n                                host: options.host,\n                                port: options.port\n                            },\n                            command: 'connect'\n                        };\n\n                        if (proxy.auth) {\n                            let username = decodeURIComponent(proxy.auth.split(':').shift());\n                            let password = decodeURIComponent(proxy.auth.split(':').pop());\n                            if (proxyV2) {\n                                connectionOpts.proxy.userId = username;\n                                connectionOpts.proxy.password = password;\n                            } else if (proxyType === 4) {\n                                connectionOpts.userid = username;\n                            } else {\n                                connectionOpts.authentication = {\n                                    username,\n                                    password\n                                };\n                            }\n                        }\n\n                        socksClient.createConnection(connectionOpts, (err, info) => {\n                            if (err) {\n                                return callback(err);\n                            }\n                            return callback(null, {\n                                connection: info.socket || info\n                            });\n                        });\n                    };\n\n                    if (net.isIP(proxy.hostname)) {\n                        return connect(proxy.hostname);\n                    }\n\n                    return dns.resolve(proxy.hostname, (err, address) => {\n                        if (err) {\n                            return callback(err);\n                        }\n                        connect(Array.isArray(address) ? address[0] : address);\n                    });\n                }\n            }\n            callback(new Error('Unknown proxy configuration'));\n        };\n    }\n\n    _convertDataImages(mail, callback) {\n        if ((!this.options.attachDataUrls && !mail.data.attachDataUrls) || !mail.data.html) {\n            return callback();\n        }\n        mail.resolveContent(mail.data, 'html', (err, html) => {\n            if (err) {\n                return callback(err);\n            }\n            let cidCounter = 0;\n            html = (html || '').toString().replace(/(<img\\b[^>]* src\\s*=[\\s\"']*)(data:([^;]+);[^\"'>\\s]+)/gi, (match, prefix, dataUri, mimeType) => {\n                let cid = crypto.randomBytes(10).toString('hex') + '@localhost';\n                if (!mail.data.attachments) {\n                    mail.data.attachments = [];\n                }\n                if (!Array.isArray(mail.data.attachments)) {\n                    mail.data.attachments = [].concat(mail.data.attachments || []);\n                }\n                mail.data.attachments.push({\n                    path: dataUri,\n                    cid,\n                    filename: 'image-' + ++cidCounter + '.' + mimeTypes.detectExtension(mimeType)\n                });\n                return prefix + 'cid:' + cid;\n            });\n            mail.data.html = html;\n            callback();\n        });\n    }\n\n    set(key, value) {\n        return this.meta.set(key, value);\n    }\n\n    get(key) {\n        return this.meta.get(key);\n    }\n}\n\nmodule.exports = Mail;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}